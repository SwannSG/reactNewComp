#How to manage CSS for ReactJS components ?

##What we have tried

Have tried all inline styles using Radium. Very specific so no global class naming issues. Everything is self-contained so it is possible to see what is going on in one place. Some CSS properties are not supported and then external CSS file is required. Does create a lot of verbosity in the DOM. Overall seems to work well, but there is something curiously unsatisfactory about this approach. Almost like there MUST be a better approach.

##PostCSS Discovered

After investigating further, *postCSS* regularly came up as a tool to enhance CSS capability. So our new approach is to test with this new capability. Key capabilities through plug-ins are:

1. Class names that won't collide.
2. Variables
3. Composition

##Class names (that won't collide)

Long, collison free, class names are autogenerated, and there is an easy mechanism to link the JSX component className to the postCSS generated class name. So we can have crisp class names inside the component. Class names are a real pain. Do we stick with semantic names, or do we just use super short names like 'a', 'b', 'c'. Perhaps each component has a natural flow that lends itself to semantic class names.

Essentially we have content, defined in JSX, with a className. This provides the bridge to the CSS world. One of our new design goals is to keep the JSX as uncluttered and crisp as possible. That means none of the bootstrap like *class="btn btn-default"* class names. I have seen people refer to these as Utility Classes. So no Utility Classes in the JSX/ html world. We can avoid this because we have now have CSS Composition available to us.

For now we are going to attempt using non-semantic classnames. So ultra short, no semantic meaning, and simply a label as a bridge to the CSS world. By attaching no semantic meaning to the label (classname) we don't have to think about the name. This may turn out to be a teriible idea -  we will see. It turns out to be a terible idea, so avoid it.

##Non-Semantic class names - Experimentation

We define the JSX component with the minimum html possible. Each div gets a classname starting at 'a'. Then we take that blueprint and setup the styling. We hope the minimum html provides sufficient hooks for all styling to take place.

It turns out that non-sematic classnames is a really bad idea. Using a meaningful name inside the component is actually quite helpful.

##Composition and Utility Classes

Utility classes are very helpful. They provide nice names that describe what they do. But now we can keep them in the CSS world where they belong. No overflow into the html. We can do that because of composability.

```javascript
.someClass: {
    composes: btn from "./someUtilityClassFile.css";
}
```
Somewhat verbose. But it does mean we can have our Utility Classes in a separate module and pull out the ones we need, when we need them, and only in the CSS. Here we can provide nice semantic names.

Composition is only allowed for a single selector.

The difficulty with Utility Classes is how to structure and define them. Not the technicality of doing this, but the logical and natural way to break things up. I have no clear idea how to best do this. There are some excellent Utility class libraries out there, but I am not entirely convinced they offer the best approach.

I guess the question is, what benefit is composition providing. Is it to minimise CSS property-value pairs, or is it to make CSS more readable, or both. And then if you know CSS very well, can you not read it directly and figure out what it does. Maybe not so easy.

What performance gain do you get by making the CSS more concise. I suspect not much. That been the case (not verified) composability is primarily there to promote readibility.

##Global variables

Using the *postcss-simple-vars* it is possible to configure global variables that can be referenced in any CSS file. Very handy for things like base font-family, size and colors.

```javascript
.someClass: {
    font-family: $fontFamily;
}
// where $fontFamily is a global variable
```

##CSS Composition

It is rapidly becoming clear that CSS composability is the big thing. For a JSX parent component, that pulls in sub-components, we still define all the CSS at the parent component level. However, we happily pull in sub-component CSS to achieve this, using *composes* in the parent component CSS file.

```javascript
// JSX world, parentComponent
import styles from './parentComponent.css';
class parentComponent extends Component {
    render() {
        return (
            <div className={styles.outer}>
                <SubCompOne className={styles.subCompOne} />
            </div>    
        )
    }
}
// end JSX world

// CSS world
.subCompOne {
    composes: subCompOne from './subCompOne.css';
    // add other properties here
}
// end CSS world
```  

Notice that if there is existing CSS that goes along with SubCompOne it does not go to waste. We use it to compose the class properties for SubCompOne (class=subCompOne).
